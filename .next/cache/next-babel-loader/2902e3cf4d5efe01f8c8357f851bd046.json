{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport fetch from \"isomorphic-fetch\";\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport StatsDisplay from '../components/StatsDisplay';\nimport Teams from '../components/teams';\nimport theme from '../src/Theme';\nimport { addTeams } from '../redux/actions/counterActions';\nimport { makeStyles, MuiThemeProvider } from '@material-ui/core/styles';\nimport Typography from \"@material-ui/core/Typography\";\nconst useStyles = makeStyles({\n  root: {\n    backgroundImage: `url(${\"./floor.png\"})`,\n    backgroundAttachment: 'fixed',\n    height: '100vh'\n  }\n});\n\nconst Index = prop => {\n  console.log(prop);\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (prop.stats) {\n      dispatch(addTeams(prop.stats['standard']));\n    }\n  }, []);\n  /* (function addToState() {\r\n       dispatch(addTeams(prop.stats['standard']));\r\n   })()*/\n\n  return __jsx(MuiThemeProvider, {\n    theme: theme\n  }, __jsx(\"div\", null, __jsx(Teams, null)));\n}; //life cycle method, run when load\n\n\nIndex.getInitialProps = async function ({\n  store\n}) {\n  let data;\n\n  try {\n    //npm i isomorphic-unfetch\n    const res = await fetch('http://data.nba.net/10s/prod/v2/2019/teams.json');\n    data = await res.json();\n  } catch (e) {\n    console.log(e);\n    data = \"empty\";\n  }\n\n  return {\n    stats: data.league\n  };\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}